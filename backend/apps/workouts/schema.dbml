// Workout Layer

// Models
table workout {
    id uuid [pk]
    estimated_duration_s int
    created_at datetime
    program_phase_id uuid [ref: > program_phase.id]
    scheduled_for date
    trainer_notes text
}

table workout_exercise {
    id uuid [pk]
    order int [not null]
    exercise_id uuid [ref: > exercise.id]
    workout_id uuid [ref: > workout.id]
}

table workout_set {
    id uuid [pk]
    workout_exercise_id uuid [ref: > workout_exercise.id]
    reps_prescribed int [not null]
    weight_prescribed decimal [not null]
    rest_period int
}

table workout_in_progress_record {
    id uuid [pk]
    workout_id uuid [ref: - workout.id]
    completed_at datetime
}

table workout_set_completion_record {
    id uuid [pk]
    workout_set_id uuid [ref: - workout_set.id]
    reps_completed int [not null]
    weight_completed decimal [not null]
    completed_at datetime
    workout_in_progress_record_id uuid [ref: > workout_in_progress_record.id]
}